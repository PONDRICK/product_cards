import './polyfills.server.mjs';
import{B as A,D as E,E as F,F as z,G as D,H as j,I as T,J as H,K as N,L as R,M as $,N as B,Q as L,U,X as Y,Y as G,a as _,b as w,c as l,d as y,e as P,f as n,g as v,h as m,i as p,j as O,k as i,l as r,m as d,n as S,o as M,p as I,q as a,r as f,s,t as g,y as k}from"./chunk-AVOB6QKR.mjs";import{a as h,b}from"./chunk-5XUXGTUW.mjs";var u=class o{static \u0275fac=function(t){return new(t||o)};static \u0275cmp=l({type:o,selectors:[["app-root"]],standalone:!0,features:[g],decls:1,vars:0,template:function(t,c){t&1&&d(0,"router-outlet")},dependencies:[U],encapsulation:2})};var x=class o{constructor(e){this.http=e}apiUrl="https://dummyjson.com/products?limit=30";getProducts(e=30,t=0){return this.http.get(`https://dummyjson.com/products?limit=${e}&skip=${t}`)}static \u0275fac=function(t){return new(t||o)(w(H))};static \u0275prov=_({token:o,factory:o.\u0275fac,providedIn:"root"})};function X(o,e){o&1&&d(0,"i",20)}function tt(o,e){o&1&&d(0,"i",21)}function et(o,e){o&1&&d(0,"i",22)}function ot(o,e){if(o&1&&(S(0)(1,16),m(2,X,1,0,"i",17)(3,tt,1,0,"i",18)(4,et,1,0,"i",19),M()()),o&2){let t=e.$implicit;n(),p("ngSwitch",t),n(),p("ngSwitchCase","full"),n(),p("ngSwitchCase","half")}}function nt(o,e){if(o&1&&(i(0,"div",2),d(1,"img",3),i(2,"div",4)(3,"div",5),a(4),r(),i(5,"div",6),a(6),r(),i(7,"div",7),a(8),r(),i(9,"div",8),m(10,ot,5,3,"ng-container",9),r(),i(11,"div",10),a(12),r(),i(13,"div",11),a(14),i(15,"span",12),a(16),r()(),i(17,"div",13),a(18),r(),i(19,"div",14),a(20),r(),i(21,"a",15),a(22),r()()()),o&2){let t=e.$implicit,c=I();n(),p("src",t.thumbnail,P)("alt",t.title),n(3),f(t.title),n(2),s(" by ",t.brand?t.brand:"no brand"," "),n(2),f(t.category),n(2),p("ngForOf",c.getStars(t.rating)),n(2),s("\u0E25\u0E14 ",t.discountPercentage,"%"),n(2),s(" $",t.price.toFixed(2)," "),n(2),s(" $",(t.price+t.price*t.discountPercentage/100).toFixed(2)," "),n(2),s("Stock: ",t.stock,""),n(2),f(t.warrantyInformation),n(),O("disabled",t.stock===0),n(),s(" ",t.stock===0?"Not Available":"Add to Cart"," ")}}var C=class o{constructor(e,t){this.productService=e;this.platformId=t;this.isBrowser=T(t)}products=[];skip=0;limit=30;loading=!1;isBrowser=!1;ngOnInit(){this.loadProducts(),this.isBrowser&&window.addEventListener("scroll",this.onScroll)}ngOnDestroy(){this.isBrowser&&window.removeEventListener("scroll",this.onScroll)}loadProducts(){this.loading||(this.loading=!0,this.productService.getProducts(this.limit,this.skip).subscribe(e=>{let t=e.products.map(c=>b(h({},c),{showComments:!1}));this.products=[...this.products,...t],this.skip+=this.limit,this.loading=!1}))}getStars(e){let t=Math.floor(e),c=e%1>=.5?1:0,K=5-t-c;return[...Array(t).fill("full"),...c?["half"]:[],...Array(K).fill("empty")]}toggleComments(e){e.showComments=!e.showComments}onScroll=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&this.loadProducts()};static \u0275fac=function(t){return new(t||o)(v(x),v(y))};static \u0275cmp=l({type:o,selectors:[["app-product-card"]],standalone:!0,features:[g],decls:2,vars:1,consts:[[1,"grid-wrapper"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src","alt"],[1,"card-body"],[1,"title"],[1,"brand"],[1,"category"],[1,"rating"],[4,"ngFor","ngForOf"],[1,"discount"],[1,"price"],[1,"original-price"],[1,"status"],[1,"warranty"],["href","#",1,"button"],[3,"ngSwitch"],["class","fa fa-star",4,"ngSwitchCase"],["class","fa fa-star-half-alt",4,"ngSwitchCase"],["class","fa fa-star-o",4,"ngSwitchDefault"],[1,"fa","fa-star"],[1,"fa","fa-star-half-alt"],[1,"fa","fa-star-o"]],template:function(t,c){t&1&&(i(0,"div",0),m(1,nt,23,14,"div",1),r()),t&2&&(n(),p("ngForOf",c.products))},dependencies:[j,E,F,z,D,R],styles:["body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f0f2f5;padding:40px 20px;margin:0;display:flex;justify-content:center}.grid-wrapper[_ngcontent-%COMP%]{max-width:1140px;margin:auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 12px #0000000d;overflow:hidden;display:flex;flex-direction:column;transition:transform .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.card-body[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;flex-grow:1}.title[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;margin-bottom:6px;color:#2c3e50}.brand[_ngcontent-%COMP%]{font-size:13px;color:#7f8c8d}.category[_ngcontent-%COMP%]{display:inline-block;background-color:#dfe6e9;color:#2d3436;padding:3px 10px;font-size:12px;border-radius:15px;margin:8px 0;width:fit-content}.discount[_ngcontent-%COMP%]{color:#27ae60;font-size:14px;margin-bottom:4px}.price[_ngcontent-%COMP%]{color:#e74c3c;font-weight:700;font-size:18px}.original-price[_ngcontent-%COMP%]{text-decoration:line-through;font-size:14px;color:#bdc3c7;margin-left:10px}.status[_ngcontent-%COMP%]{font-size:13px;color:#16a085;margin-top:6px}.warranty[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.button[_ngcontent-%COMP%]{padding:10px;background-color:#e74c3c;color:#fff;text-align:center;border-radius:6px;text-decoration:none;margin-top:auto;font-weight:500;transition:background .2s ease}.button[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#c0392b}.button.disabled[_ngcontent-%COMP%]{background-color:#bdc3c7;cursor:not-allowed}.rating[_ngcontent-%COMP%]{margin:10px 0;color:#f1c40f;font-size:16px}.rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2px}.comments-toggle[_ngcontent-%COMP%]{font-size:12px;color:#3498db;cursor:pointer;text-decoration:underline;margin-top:12px}.comments[_ngcontent-%COMP%]{background:#fff;margin-top:10px;padding:10px;border:1px solid #ecf0f1;border-radius:4px;font-size:13px;color:#2d3436;max-height:120px;overflow-y:auto;position:absolute;bottom:0;left:0;width:100%;z-index:2;box-shadow:0 -2px 5px #0000000d}"]})};var Z=[{path:"",component:C},{path:"**",redirectTo:""}];var q={providers:[k({eventCoalescing:!0}),Y(Z,G()),B(),N()]};var it={providers:[L()]},J=A(q,it);var rt=()=>$(u,J),Tt=rt;export{Tt as a};
